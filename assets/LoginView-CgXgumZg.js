import{r as n,c as r,o as i,a as t,w as d,b as c,d as g,v as u,e as f,u as w,R as v,f as b,g as x}from"./index-D4xZNeLt.js";import{l as C}from"./api-Dz8o0fTW.js";const h={id:"loginPage",class:"bg-yellow"},k={class:"conatiner loginPage vhContainer"},_={class:"formControls",action:"index.html"},y={key:0},B={__name:"LoginView",setup(V){const m=b(),s=n(""),a=n(""),p=async()=>{try{const l=await C(s.value,a.value),{token:o,exp:e}=l.data;document.cookie=`vue3-todolist-token=${o}; expires=${e}`,m.push("/todolist"),swal("登入成功！","進入TodoList","success")}catch(l){swal("登入失敗！",l.response.data.message,"error")}};return(l,o)=>(i(),r("div",h,[t("div",k,[o[6]||(o[6]=t("div",{class:"side"},[t("a",{href:"#"},[t("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),t("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),t("div",null,[t("form",_,[o[3]||(o[3]=t("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1)),o[4]||(o[4]=t("label",{class:"formControls_label",for:"email"},"Email",-1)),d(t("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e)},null,512),[[u,s.value]]),s.value===""?(i(),r("span",y,"此欄位不可留空")):c("",!0),o[5]||(o[5]=t("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),d(t("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e)},null,512),[[u,a.value]]),t("input",{class:"formControls_btnSubmit",type:"button",onClick:p,value:"登入"}),g(w(v),{class:"formControls_btnLink",to:"/register"},{default:f(()=>[...o[2]||(o[2]=[x("註冊帳號",-1)])]),_:1})])])])]))}};export{B as default};
